<!DOCTYPE html>
<html lang="en">
<head>
  <title>Green Garden</title>
  <meta charset="utf-8"></title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body >
  <style>
    .btn-hover:hover{
        background-color:#ffffff;
        color:white!important;
    }
    .card > img {
        height:250px;
    }
    .card{
        height:630px;
    }

    /* Custom CSS for background image */
    body {
      background-image: url("images/fundo.jpg");
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    padding: 0px;
    }

    /* Style for the content */
    .content {
      background-color: rgba(255, 255, 255, 0.7); /* Add a semi-transparent white background to improve readability */
      padding: 20px;
      border-radius: 10px;
    }

  </style>
<div class="container mt-3">
    <br><p></p>
    <h1 class="text-light">Clientes</h1>      
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Avatar</th>
          <th>Nome</th>
          <th>Sobrenome</th>
          <th>Email</th>
          <th>CEP</th>
          <th>Celular</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody id="lista_clientes">
        
      </tbody>
    </table>
  </div>



<!-- The Modal -->
<div class="modal" id="myModal">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Alterar Login</h4>
        <button type="button" class="btn-close  btn-closing" data-bs-dismiss="modal"></button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <div class="container mt-3">
          <form action="/action_page.php">
            <div class="mb-3 mt-3">
              <label for="nome">Nome:</label>
              <input type="text" class="form-control" id="nome" placeholder="Seu novo nome" name="nome">
            </div>
            <div class="mb-3 mt-3">
              <label for="sobrenome">Sobrenome:</label>
              <input type="text" class="form-control" id="sobrenome" placeholder="Seu novo sobrenome" name="sobrenome">
            </div>
            <div class="mb-3">
              <label for="email">Email:</label>
              <input type="text" class="form-control" id="email" placeholder="Seu novo email" name="email">
            </div>
            
            <div class="mb-3">
              <label for="celular">Celular:</label>
              <input type="text" class="form-control" id="celular" placeholder="Seu novo celular" name="celular">
            </div>

            <div class="mb-3">
              <label for="cep">CEP:</label>
              <input type="text" class="form-control" id="cep" placeholder="Seu novo CEP" name="cep">
            </div>

            <div class="mb-3">
              <label for="bairro">Bairro:</label>
              <input type="text" class="form-control" id="bairro" placeholder="Seu novo bairro" name="bairro">
            </div>

            <div class="mb-3">
              <label for="uf">Estado:</label>
              <input type="text" class="form-control" id="uf" placeholder="Seu novo estado" name="uf">
            </div>

            <div class="mb-3">
              <label for="rua">Rua:</label>
              <input type="text" class="form-control" id="rua" placeholder="Sua nova rua" name="rua">
            </div>

            <div class="mb-3">
              <label for="localidade">Cidade:</label>
              <input type="text" class="form-control" id="localidade" placeholder="Sua nova Cidade" name="localidade">
            </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger btn-closing" data-bs-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>

  
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="js/js.js"></script>
<script>
    const clientes = [
        {avatar: "paulo.webp", nome: "Paulo", sobrenome: "Brecha", email:"paulobrecha@mail.com", cep: "24913120",celular:"21 98127362"},
        {avatar: "gelado.jpg", nome: "João", sobrenome: "Gelado", email:"joaogelado@mail.com", cep: "24789251", celular:"21 92128742"},
        {avatar: "kjauan.jpg", nome: "Kauan", sobrenome: "Coelho", email:"kauancoelho@mail.com", cep: "24016273", celular:"21 91028489"},
        {avatar: "JP.jpg", nome: "JP", sobrenome: "Pera", email:"jppera@mail.com", cep: "24162035", celular:"21 99237237"},
        {avatar: "Roberta.jpg", nome: "Roberta", sobrenome: "Marciano", email:"robertamarciano@mail.com", cep: "24725301", celular:"21 90138210"},
        {avatar: "Serafonho.webp", nome: "Emilson", sobrenome: "Serafanho", email:"emilsonserafanho@mail.com", cep: "24900635", celular:"21 90328390"},
        {avatar: "davi.jpg", nome: "Davi", sobrenome: "Newton", email:"davinewton@mail.com", cep: "24016273", celular:"21 99238723"},
        {avatar: "ivo.png", nome: "Ivo", sobrenome: "Vector", email:"ivovector@mail.com", cep: "24023892", celular:"21 90128198"},
        {avatar: "rayner.jpg", nome: "Raynner", sobrenome: "Heineken", email:"raynnerheineken@mail.com", cep: "24927347", celular:"21 90182938"},
        {avatar: "ana.webp", nome: "Ana", sobrenome: "Claras", email:"anaclaras@mail.com", cep: "24927347", celular:"21 99128192"},
    ]

    const tbody = document.getElementById('lista_clientes')

    clientes.forEach(function(i, e){
        // console.log('clientes', i.nome)
        // console.log('clientes', i.sobrenome)
        // console.log('********************************************')

        let tr = document.createElement('tr')
        
        
        //primeira celular
        let td0 = document.createElement('td')
        let avatar = document.createElement('img')
        avatar.className = "rounded-circle"
        avatar.src = `images/${i.avatar}`
        avatar.width = 64
        avatar.height = 64
        td0.append(avatar)
        tr.append(td0)

        //primeira celular
        let td1 = document.createElement('td')
        td1.innerText = i.nome
        tr.append(td1)

        //primeira celular
        let td2 = document.createElement('td')
        td2.innerText = i.sobrenome
        tr.append(td2)

        //primeira celular
        let td3 = document.createElement('td')
        td3.innerText = i.email
        tr.append(td3)

        //primeira celular
        let td4 = document.createElement('td')
        td4.innerText = i.cep
        tr.append(td4)

        //primeira celular
        let td5 = document.createElement('td')
        td5.innerText = i.celular
        tr.append(td5)

        //primeira celular
        let td6 = document.createElement('td')

        let button = document.createElement('button')
        button.type = "button"
        button.className = 'btn btn-outline-primary mx-2 editar'
        button.innerText = "Editar"
        
        td6.append(button)
        tr.append(td6)

        let button1 = document.createElement('button')
        button1.type = "button1"
        button1.className = 'btn btn-outline-danger excluir'
        button1.innerText = "Apagar"
        td6.append(button1)
        tr.append(td6)
        
        tbody.append(tr)

        // tr.

    })

    $(document).ready(function(){
      $('.excluir').on('click', function(){
        $(this).closest('tr').fadeOut(1000)
      })

      $('.editar').on('click', function(){
        let tr = $(this).closest('tr')

        let nome = $(tr).find("td").eq(1).html();
        $('#nome').val(nome)
        
        let sobrenome = $(tr).find("td").eq(2).html();
        $('#sobrenome').val(sobrenome)

        let email = $(tr).find("td").eq(3).html();
        $('#email').val(email)

        let cep = $(tr).find("td").eq(4).html();
        $('#cep').val(cep)

        let celular = $(tr).find("td").eq(5).html();
        $('#celular').val(celular)

        $('#myModal').show()
      })

      $('.btn-closing').on('click', function(){
        $('#myModal').hide()
      })

      $('#cep').on('blur', function(){
        let cep = $('#cep').val()
        $.ajax({
              url: `https://viacep.com.br/ws/${cep}/json/`,
              method:"get",
              success: function (response) {
                console.log(response)
                $('#cep').val(response.cep)
                $('#bairro').val(response.bairro)
                $('#uf').val(response.uf)
                $('#rua').val(response.logradouro)
                $('#localidade').val(response.localidade)
              }

        })
      })


    });

    
</script>
</html>
